set -g prefix M-a
set -g prefix2 M-j

unbind C-b

# set -g default-terminal "xterm-256color"
set-window-option -g window-size largest
setw -g aggressive-resize on

set-option -ga terminal-features hyperlinks
 
unbind r
bind r source-file ~/.tmux.conf
bind -n M-r source-file ~/.tmux.conf

bind l neww tmuxlauncher
bind -n M-l neww tmuxlauncher

# ghostty
set -gq allow-passthrough on
set -g visual-activity off 

# set-option -g default-shell $SHELL

set -g mouse on

setw -g mode-keys vi

#bind-key -n M-j select-pane -L
#bind-key j select-pane -L

bind-key j select-pane -D
bind-key k select-pane -U

bind-key -n M-k select-pane -R
bind-key k select-pane -R

bind-key -n M-h split-window -h -c "#{pane_current_path}"
bind-key h split-window -h -c "#{pane_current_path}"
bind-key v split-window -v -c "#{pane_current_path}"

unbind x
bind-key q kill-pane 
bind-key -n M-q kill-pane 

bind-key -n M-c neww

bind-key -n M-: command-prompt

bind-key -n M-n command-prompt "rename-window '%%'"

bind-key -n M-s command-prompt "swap-pane -t '%%'"
bind-key s command-prompt "swap-pane -t '%%'"

bind-key -n M-t command-prompt "neww '%%'"
bind-key t command-prompt "neww '%%'"

bind-key -n M-y copy-mode
bind-key y copy-mode

#vim like movement
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'xclip -in -selection clipboard'
bind -T copy-mode-vi Escape send-keys -X cancel

# switch windows alt+number
bind-key -n M-0 select-window -t 0
bind-key -n M-1 select-window -t 1
bind-key -n M-2 select-window -t 2
bind-key -n M-3 select-window -t 3
bind-key -n M-4 select-window -t 4
bind-key -n M-5 select-window -t 5
bind-key -n M-6 select-window -t 6
bind-key -n M-7 select-window -t 7
bind-key -n M-8 select-window -t 8
bind-key -n M-9 select-window -t 9

# Address vim mode switching delay (http://superuser.com/a/252717/65504)
set -s escape-time 0

# Increase scrollback buffer size from 2000 to 50000 lines
set -g history-limit 50000

# Increase tmux messages display duration from 750ms to 4s
set -g display-time 4000

# Refresh 'status-left' and 'status-right' more often, from every 15s to 5s
set -g status-interval 5

# status bar
set -g status-justify "absolute-centre"
set -g status-position bottom

# rose pine moon colors
LOVE="#eb6f92"
GOLD="#f6c177"
ROSE="#ea9a97"
PINE="#3e8fb0"
BASE="#232136"
FOAM="#9ccfd8"
IRIS="#c4a7e7"

set -g status-style fg=${FOAM},bg=${BASE}

TMUX_CHAR="#(printf '\uebc8')"
PAUSE="#(printf '\uf04c')"

set -g status-left-length 100
set -g status-left " [#S] #{?client_prefix,${TMUX_CHAR} , }#{?pane_in_mode,${PAUSE},}"
set -g status-left-style fg=${ROSE}

hostname_abr="#(exec cat /etc/hostname | cut -c1-10)"
set -g status-right "${hostname_abr}  %H:%M %a "
set -g status-right-style fg=${PINE}

set -g window-status-format "#I:#W "

set -g window-status-current-format "#I:#W "
set -g window-status-current-style fg=${IRIS}
